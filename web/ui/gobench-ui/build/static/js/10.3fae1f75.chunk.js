(this["webpackJsonpgobench-ui"]=this["webpackJsonpgobench-ui"]||[]).push([[10],{574:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return r}));var n={running:"#73d13d",init:"#ffcc00",finished:"#1890ff",cancel:"#bfbfbf",pending:"#faad14",provisioning:"#00bcd4",error:"#f5222d",info:"default"},c=function(e){return e&&0!==e.length?e.split(",").map((function(e,t){return{color:r(t),index:t,text:e}})):[]},r=function(e){var t=["#ff4d4f","#cf1322","#a8071a","#fa541c","#ff7a45","#ad2102","#ffa940","#fa8c16","#ad4e00","#ffc53d","#faad14","#d48806","#d4b106","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#73d13d","#52c41a","#389e0d","#237804","#135200","#5cdbd3","#13c2c2","#1890ff","#597ef7","#b37feb","#ff85c0","#722ed1","#eb2f96","#595959"];return e?(e>=t.length&&(e%=t.length),t[e]):t[0]}},579:function(e,t,a){},615:function(e,t,a){"use strict";a.r(t);var n=a(13),c=a(126),r=a(0),i=a.n(r),l=a(204),o=a(626),d=a(635),u=a(136),s=a(616),f=a(129),m=a(623),p=a(38),g=a(27),E=a(65),h=a(574),y=a(636),b=a(584),v=a.n(b),k=(a(579),o.a.Search);t.default=Object(g.i)(Object(p.c)((function(e){var t=e.application,a=e.dispatch;return{list:t.list,loading:t.loading,total:t.total,dispatch:a}}))((function(e){var t=e.list,a=e.loading,o=e.total,p=e.dispatch,b=Object(g.g)(),S=Object(r.useState)(!1),x=Object(c.a)(S,2),N=x[0],C=x[1],O=Object(r.useState)({current:1,pageSize:10,total:0,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," scenarios")}}),j=Object(c.a)(O,2),I=j[0],T=j[1],L=[{title:"ID",dataIndex:"id",key:"id",sorter:function(e,t){return e.name.length-t.name.length}},{title:"Status",dataIndex:"status",key:"status",sorter:function(e,t){return e.name.length-t.name.length},render:function(e,t){return i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{key:t.id,to:"/applications/".concat(t.id)},i.a.createElement(d.a,{color:h.c[e],key:t.id},e.toUpperCase())))}},{title:"Name",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.length-t.name.length},render:function(e,t){return i.a.createElement(E.a,{key:t.id,to:"/applications/".concat(t.id)},e)}},{title:"Tags",dataIndex:"tags",key:"tags",render:function(e){return i.a.createElement(i.a.Fragment,null,Object(h.b)(e).map((function(e){return i.a.createElement(d.a,{color:e.color,key:e.index},e.text)})))}},{title:"Started at",dataIndex:"started_at",key:"started_at",sorter:function(e,t){return e.name.length-t.name.length},render:function(e){return v()(e).utc().format()}},{title:"Duration",dataIndex:"duration",key:"duration",render:function(e,t){var a=t.started_at,n=t.updated_at,c=v()(a).utc();if(["provisioning","pending","error"].includes(t.status))return i.a.createElement("span",null);if(["finished","cancel"].includes(t.status)){var r=v()(n).utc().diff(c),l=v.a.utc(r).format("HH:mm:ss.SSS");return i.a.createElement("span",null,l)}var o=v.a.utc().diff(c),d=v.a.utc(o).format("HH:mm:ss.SSS");return i.a.createElement("span",null,d)}},{title:"Action",dataIndex:"action",key:"action",render:function(e,t){return i.a.createElement("div",{style:{float:"right"},key:t.id},i.a.createElement(u.a,{style:{marginLeft:5},type:"default",onClick:function(){return A(t)}},"Clone"),["running","pending"].includes(t.status)&&i.a.createElement(s.a,{title:"Are you sure cancel application ".concat(t.name,"?"),onConfirm:function(){return _(t.id)},okText:"Yes",cancelText:"No"},i.a.createElement(u.a,{type:"dashed",style:{marginLeft:5},danger:!0},"Cancel")),["finished","pending","error","cancel"].includes(t.status)&&i.a.createElement(s.a,{title:"Are you sure delete application ".concat(t.name,"?"),onConfirm:function(){return z(t.id)},okText:"Yes",cancelText:"No"},i.a.createElement(u.a,{type:"primary",className:"delete-button",style:{marginLeft:5,color:"white",backgroundColor:"#f5222d!important"},danger:!0},"Delete")))}}];Object(r.useEffect)((function(){N||(p({type:"application/LIST",payload:{offset:(I.current-1)*I.pageSize,limit:I.pageSize}}),C(!0))}),[t,o]),Object(r.useEffect)((function(){o>0&&o!==I.total&&T(Object(n.a)(Object(n.a)({},I),{},{total:o}))}),[o]);var w=function(e){p({type:"application/LIST",payload:{offset:0,limit:I.pageSize,keyword:e}})},A=function(e){p({type:"application/CLONE",payload:{data:e}})},_=function(e){p({type:"application/CANCEL",payload:{id:e}})},z=function(e){p({type:"application/DELETE",payload:{id:e}})};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"application"},i.a.createElement(l.a,{title:"Applications"}),i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-header row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"cui__utils__heading mb-0"},i.a.createElement("h2",null,"Benchmark Application")),i.a.createElement("div",{className:"text-muted"},"A distributed benchmark tool with Golang")),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"text-right"},i.a.createElement(f.a,{title:"Refresh"},i.a.createElement(u.a,{icon:i.a.createElement(y.a,null),style:{marginRight:5},onClick:w})),i.a.createElement(u.a,{type:"primary",onClick:function(){return b.push("/applications/create")}},"Create Application")))),i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"application-header"},i.a.createElement("div",{className:"search-bar row"},i.a.createElement("div",{className:"col-md-6 col-xs-12"}),i.a.createElement("div",{className:"col-md-6 col-xs-12"},i.a.createElement(k,{placeholder:"input application name or tags",enterButton:"Search",onSearch:function(e){return w(e)}})))),i.a.createElement(m.a,{dataSource:t,pagination:I,loading:a,columns:L,onChange:function(e,t,a,n){T(e),p({type:"application/LIST",payload:{offset:(e.current-1)*e.pageSize,limit:e.pageSize,pagination:e,filters:t,sorter:a}})},ellipsis:!0})))))})))}}]);
//# sourceMappingURL=10.3fae1f75.chunk.js.map