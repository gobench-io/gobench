(this["webpackJsonpgobench-ui"]=this["webpackJsonpgobench-ui"]||[]).push([[20],{606:function(t,e,a){"use strict";a.r(e),a.d(e,"useInterval",(function(){return m}));var n=a(41),c=a(0),i=a.n(c),r=a(38),u=a(27),s=a(45),l=a(59),p=a(193),o=Object(c.lazy)((function(){return Promise.all([a.e(17),a.e(18)]).then(a.bind(null,607))}));e.default=Object(u.i)(Object(r.c)((function(t){var e=t.application,a=t.dispatch;return{detail:e.detail,graphMetrics:e.graphMetrics,metricDatas:e.metricDatas,dispatch:a}}))((function(t){var e,a=t.detail,r=t.graph,u=t.graphMetrics,f=t.metricDatas,d=t.unit,g=t.timeRange,b=t.dispatch,h=Object(s.get)(a,"status",""),O=Object(s.get)(a,"timestamp",""),j="running"===h,v=u.find((function(t){return t.graphId===r.id}))||{metrics:[]},I=v.graphId,E=v.metrics,R=f.find((function(t){return t.graphId===r.id}))||{metrics:[]},y=Object(s.get)(E,"[0].type","");Object(c.useEffect)((function(){E.length>0&&0===R.metrics.length&&b({type:"application/GRAPH_METRIC_DATA",payload:{id:I,metrics:E,timeRange:g,timestamp:O,isRealtime:j}})}),[I]),m((function(){console.log("polling..."),b({type:"application/METRIC_DATA_POLLING",payload:{id:r.id,metrics:E,data:R.metrics}})}),j?l.b:null),y===l.c.HISTOGRAM?e=Object(n.a)(Object(p.d)(Object(s.get)(R.metrics,"[0].chartData.data",[]))):Object(s.isArray)(R.metrics)&&(e=R.metrics.map((function(t){return Object(s.get)(t,"chartData",{name:t.title,data:[]})})));var A=j?Object(p.c)(e,g):e;return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.Suspense,{fallback:i.a.createElement("p",null,"Loading graph...")},i.a.createElement(o,{series:A,unit:d})))})));var m=function(t,e){var a=Object(c.useRef)();Object(c.useEffect)((function(){a.current=t}),[t]),Object(c.useEffect)((function(){if(null!==e){var t=setInterval((function(){a.current()}),e);return function(){return clearInterval(t)}}}),[e])}}}]);
//# sourceMappingURL=20.7468890d.chunk.js.map