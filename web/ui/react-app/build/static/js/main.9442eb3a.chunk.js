(this.webpackJsonpgobench=this.webpackJsonpgobench||[]).push([[0],{10:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return d})),n.d(e,"h",(function(){return h})),n.d(e,"g",(function(){return O})),n.d(e,"d",(function(){return j})),n.d(e,"e",(function(){return x})),n.d(e,"f",(function(){return E}));var a=n(6),r=n.n(a),c=n(7),i=n(12),o=n(4),u=n(0),s=n(1),f=n(5),p={counter:"count",gauge:"value"},l={HISTOGRAM:"histogram",COUNTER:"counter",GAUGE:"gauge"},m=1e4,d={"5m":300,"15m":900,"30m":1800,"1h":3600,"12h":43200,"24h":86400},h=function(t,e){var n=Object(u.useRef)();Object(u.useEffect)((function(){n.current=t}),[t]),Object(u.useEffect)((function(){if(null!==e){var t=setInterval((function(){n.current()}),e);return function(){return clearInterval(t)}}}),[e])},b=function(t,e){return t[e].toFixed(0)||null},g=function(t,e){return Object(s.isArray)(e)?e.map((function(e){return{x:e.time,y:b(e,p[t])}})):[{x:new Date(e.time).getTime(),y:b(e,p[t])}]},O=function(t){var e={min:[],max:[],p75:[],p95:[],p99:[]};return t.forEach((function(t){e={min:[].concat(Object(o.a)(e.min),[{x:t.time,y:t.min.toFixed(0)||0}]),max:[].concat(Object(o.a)(e.max),[{x:t.time,y:t.max.toFixed(0)||0}]),p75:[].concat(Object(o.a)(e.p75),[{x:t.time,y:t.p75.toFixed(0)||0}]),p95:[].concat(Object(o.a)(e.p95),[{x:t.time,y:t.p95.toFixed(0)||0}]),p99:[].concat(Object(o.a)(e.p99),[{x:t.time,y:t.p99.toFixed(0)||0}])}})),[{name:"min",data:e.min},{name:"max",data:e.max},{name:"p75",data:e.p75},{name:"p95",data:e.p95},{name:"p99",data:e.p99}]},j=function(){var t=Object(i.a)(r.a.mark((function t(e){var n,a,o,u,p,m,d=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:3600,a=d.length>2?d[2]:void 0,o=d.length>3?d[3]:void 0,u=(new Date).getTime(),p=Math.round((u-a)/1e3)<n?a:u-1e3*n,m=e.map(function(){var t=Object(i.a)(r.a.mark((function t(e){var n,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=6;break}return t.next=3,f.a.getMetricData(e.id,e.type,p,u).then((function(t){return t}));case 3:n=t.sent,t.next=9;break;case 6:return t.next=8,f.a.getMetricData(e.id,e.type).then((function(t){return t}));case 8:n=t.sent;case 9:if(0!==n.length){t.next=11;break}return t.abrupt("return",Object(c.a)({},e,{lastTimestamp:a,chartData:{name:e.title,data:[]}}));case 11:return i=Object(s.get)(Object(s.maxBy)(n,(function(t){return t.time})),"time"),t.abrupt("return",Object(c.a)({},e,{lastTimestamp:i,chartData:{name:e.title,data:e.type===l.HISTOGRAM?n:g(e.type,n)}}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=8,Promise.all(m).then((function(t){return t})).catch((function(t){return t}));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(t,e){return e===l.HISTOGRAM?t:g(e,t)},x=function(){var t=Object(i.a)(r.a.mark((function t(e){var n,a=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,t.next=3,Promise.all(e.map((function(t){var e=n.find((function(e){return t.id===Object(s.get)(e,["id"],"")})),a=Object(s.get)(e,"lastTimestamp","");return a?f.a.getMetricData(t.id,t.type,a).then((function(n){if(n.length>0){var a=v(n,t.type),r=Object(s.get)(e,["chartData","data"],[]),i=[].concat(Object(o.a)(r),Object(o.a)(a));return Object(c.a)({},e,{lastTimestamp:Object(s.get)(Object(s.orderBy)(n,["time"],"desc"),"[0].time"),chartData:{name:t.title,data:i}})}return e})):e}))).then((function(t){return t})).catch((function(t){return t}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(t){return 1e3*Math.round(t/1e3)},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3600,n=1e3*e;return t.map((function(t){var e=Object(s.get)(t,"data",[]);if(0===e.length)return[];var a=e.length||0,r=e[0],i=e[a-1],u=Object(s.get)(i,"x",0),f=Object(s.get)(r,"x",0),p=y(u-f);if(p<n){var l=n-p;return Object(c.a)({},t,{data:[].concat(Object(o.a)(e.map((function(t){return{x:1e3*Math.round(t.x/1e3),y:t.y}}))),[{x:u+l,y:null}])})}return Object(c.a)({},t,{data:e.filter((function(t){return t.x>=y(u)-n}))})}))}},13:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(0),r=Object(a.createContext)({})},25:function(t,e,n){},26:function(t,e,n){t.exports=n(52)},3:function(t,e,n){"use strict";var a=n(24),r=n.n(a),c=(n(1),{}),i={init:function(t){var e=this,n=t.baseURL,a=t.on401,i=t.on404,o=t.onNoResponse;c=r.a.create({baseURL:n,timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.on401=a||function(){},this.on404=i||function(){},this.onNoResponse=o||function(){},c.interceptors.response.use(void 0,(function(t){return t.response?(401===t.response.status&&e.on401(t.request,t.response),404===t.response.status&&e.on404(t.request,t.response),Promise.reject(t)):e.onNoResponse(t)}))},axios:function(){return c}};e.a=i},31:function(t,e,n){},5:function(t,e,n){"use strict";var a=n(3),r=n(1),c=n(10),i={getAppInfo:function(){return new Promise((function(t,e){a.a.axios().get("api/application").then((function(e){return t(Object(r.get)(e,"data",null))})).catch(e)}))},getGroups:function(){return new Promise((function(t,e){a.a.axios().get("api/groups").then((function(e){return t(Object(r.get)(e,"data",[]))})).catch(e)}))},getGraphs:function(t){return new Promise((function(e,n){a.a.axios().get("api/groups/".concat(t,"/graphs")).then((function(t){return e(Object(r.get)(t,"data",[]))})).catch(n)}))},getMetrics:function(t){return new Promise((function(e,n){a.a.axios().get("api/graphs/".concat(t,"/metrics")).then((function(t){return e(Object(r.get)(t,"data",[]))})).catch(n)}))},getMetricData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"counter",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=n?"?from=".concat(n):"",u=i?"&end=".concat(i):"";switch(e){case c.b.COUNTER:return new Promise((function(e,n){a.a.axios().get("api/metrics/".concat(t,"/counters").concat(o).concat(u)).then((function(t){return e(Object(r.get)(t,"data",[]))})).catch(n)}));case c.b.HISTOGRAM:return new Promise((function(e,n){a.a.axios().get("api/metrics/".concat(t,"/histograms").concat(o).concat(u)).then((function(t){return e(Object(r.get)(t,"data",[]))})).catch(n)}));case c.b.GAUGE:return new Promise((function(e,n){a.a.axios().get("api/metrics/".concat(t,"/gauges").concat(o).concat(u)).then((function(t){return e(Object(r.get)(t,"data",[]))})).catch(n)}));default:return new Promise((function(e,n){a.a.axios().get("api/metrics/".concat(t)).then((function(t){return e(Object(r.get)(t,"data",[]))})).catch(n)}))}}};e.a=i},52:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(23),i=n.n(c),o=(n(31),n(9)),u=n(1),s=(n(25),n(5)),f=n(13),p=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,61))})),l={running:"#4dbd74",init:"#ffcc00",finished:"#0066ff",cancel:"#ff0000"},m=function(){var t=Object(a.useState)([]),e=Object(o.a)(t,2),n=e[0],c=e[1],i=Object(a.useState)(null),m=Object(o.a)(i,2),d=m[0],h=m[1],b=Object(a.useState)(!1),g=Object(o.a)(b,2),O=g[0],j=g[1];Object(a.useEffect)((function(){j(!0),s.a.getAppInfo().then((function(t){j(!1),h(t)}))}),[]),Object(a.useEffect)((function(){d&&s.a.getGroups().then((function(t){c(t)}))}),[d]);var v=Object(u.get)(d,"status","");return d||O?!O&&r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"app-header"},r.a.createElement("h2",null,Object(u.get)(d,"name","")||""),r.a.createElement("span",{style:{color:"#FFFFFF",background:l[v]||"#bfbfbf"}},Object(u.get)(d,"status",""))),r.a.createElement("div",{className:"container"},r.a.createElement(f.a.Provider,{value:d},Object(u.isArray)(n)&&n.length>0&&n.map((function(t,e){return r.a.createElement(a.Suspense,{key:t.id||e,fallback:r.a.createElement("p",null,"Loading group...")},r.a.createElement(p,{group:t,appData:d}))}))))):r.a.createElement("div",{className:"app"},r.a.createElement("p",null,"Cannot load the application. May be your benchmark has been stopped."))},d=n(3);console.log("process.env.NODE_ENV :","production");var h={env:"production",apiEndpoint:"/"};d.a.init({baseURL:h.apiEndpoint,on404:function(){console.log("API not found")}}),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.9442eb3a.chunk.js.map