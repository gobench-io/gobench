{"version":3,"sources":["realtimeHelpers.js","context.js","api/api.js","api/gobench.js","views/App/App.js","config/config.js","index.js"],"names":["values","counter","gauge","METRIC_TYPE","HISTOGRAM","COUNTER","GAUGE","INTERVAL","TIME_RANGE","useInterval","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","getValue","metric","valueType","toFixed","getChartData","type","data","isArray","map","m","x","time","y","Date","getTime","makeHistogramSeriesData","hData","min","max","p75","p95","p99","forEach","d","name","getMetricData","metrics","a","timeRange","timestamp","isRealtime","now","fromTime","Math","round","metricsData","GoBenchAPI","then","rs","mData","length","lastTimestamp","chartData","title","get","maxBy","Promise","all","catch","err","getDataByType","getMetricDataInterval","oldData","mtr","oldMetricData","find","o","dataByType","oldMetricChartData","newData","orderBy","fixSecond","makeChartDataByTimeRange","rawData","timeRangeMiliseconds","seri","seriData","seriDataLength","firstData","lastData","lastDataTime","firstDataTime","dataTime","extraTime","s","filter","AppContext","createContext","axiosInstance","API","init","baseURL","on401","on404","onNoResponse","axios","create","timeout","headers","Accept","this","interceptors","response","use","undefined","error","status","request","reject","getAppInfo","resolve","res","getGroups","getGraphs","getMetrics","toTime","from","end","GroupComponent","lazy","statusColor","running","finished","cancel","App","useState","groups","fetchGroups","appData","fetchAppData","fetching","setFetching","appStatus","className","style","color","background","Provider","value","group","index","key","fallback","console","log","process","config","env","apiEndpoint","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9442eb3a.chunk.js","sourcesContent":["import { useEffect, useRef } from 'react';\nimport { get, isArray, maxBy, orderBy } from 'lodash';\nimport GoBenchAPI from './api/gobench';\n\nconst values = {\n  counter: 'count',\n  gauge: 'value'\n};\nexport const METRIC_TYPE = {\n  HISTOGRAM: 'histogram',\n  COUNTER: 'counter',\n  GAUGE: 'gauge'\n};\n\nexport const INTERVAL = 10000; // realtime data inteval in miliseconds\nexport const DEFAULT_VALUE = null; // default value for empty data \n\nexport const TIME_RANGE = {\n  '5m': 5 * 60,\n  '15m': 15 * 60,\n  '30m': 30 * 60,\n  '1h': 60 * 60,\n  '12h': 12 * 60 * 60,\n  '24h': 24 * 60 * 60\n};\n\n/***\n * useInterval\n * hook API written by Dan Abramov\n * @param callback\n * @param delay\n */\nexport const useInterval = (callback, delay) => {\n  const savedCallback = useRef();\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\n\n/***\n * get value of metric by type\n * @param metric\n * @param valueType\n * @returns {*|number}\n */\nconst getValue = (metric, valueType) => (metric[valueType]).toFixed(0) || DEFAULT_VALUE;\n\n/***\n * Get chart data depend on metric type\n * @param type\n * @param data\n * @returns {*}\n */\nconst getChartData = (type, data) => isArray(data) ? data.map(m => ({\n  x: m.time,\n  y: getValue(m, values[type])\n})) : [{\n  x: new Date(data.time).getTime(),\n  y: getValue(data, values[type])\n}];\n\n\n/***\n * Make chartData by metric type\n * @param data\n * @returns {({data: ([]|*[]), name: string}|{data: ([]|*[]), name: string}|{data: ([]|*[]), name: string}|{data: ([]|*[]), name: string}|{data: ([]|*[]), name: string})[]|{data: *, name: *}}\n */\nexport const makeHistogramSeriesData = (data) => {\n  let hData = { min: [], max: [], p75: [], p95: [], p99: [] };\n  data.forEach(d => {\n    hData = {\n      min: [...hData.min, { x: d.time, y: (d.min).toFixed(0) || 0 }],\n      max: [...hData.max, { x: d.time, y: (d.max).toFixed(0) || 0 }],\n      p75: [...hData.p75, { x: d.time, y: (d.p75).toFixed(0) || 0 }],\n      p95: [...hData.p95, { x: d.time, y: (d.p95).toFixed(0) || 0 }],\n      p99: [...hData.p99, { x: d.time, y: (d.p99).toFixed(0) || 0 }],\n    }\n  });\n\n  return [\n    { name: 'min', data: hData.min },\n    { name: 'max', data: hData.max },\n    { name: 'p75', data: hData.p75 },\n    { name: 'p95', data: hData.p95 },\n    { name: 'p99', data: hData.p99 }\n  ]\n};\n\n/***\n * get metrics data (first fetch)\n * @param metrics\n * @param timeRange\n * @param timestamp\n * @param isRealtime\n * @returns {Promise<unknown[]>}\n */\nexport const getMetricData = async (metrics, timeRange = 3600, timestamp, isRealtime) => {\n  const now = new Date().getTime();\n  const fromTime = Math.round((now - timestamp) / 1000) < timeRange ? timestamp : (now - (timeRange * 1000));\n  const metricsData = metrics.map(async m => {\n    let mData;\n    if (isRealtime) {\n      mData = await GoBenchAPI.getMetricData(m.id, m.type, fromTime, now).then(rs => rs);\n    } else {\n      mData = await GoBenchAPI.getMetricData(m.id, m.type).then(rs => rs);\n    }\n    if (mData.length === 0) {\n      return {\n        ...m,\n        lastTimestamp: timestamp,\n        chartData: {\n          name: m.title,\n          data: []\n        }\n      };\n    }\n    const lastTimestamp = get(maxBy(mData, m => m.time), 'time');\n    return {\n      ...m,\n      lastTimestamp,\n      chartData: {\n        name: m.title,\n        data: m.type === METRIC_TYPE.HISTOGRAM ? mData : getChartData(m.type, mData)\n      }\n    }\n  });\n  return await Promise.all(metricsData)\n    .then(rs => rs)\n    .catch(err => err);\n};\n\nconst getDataByType = (data, type) => {\n  return (type === METRIC_TYPE.HISTOGRAM ? data : getChartData(type, data));\n};\n\n/***\n * get metrics data interval\n * @param metrics\n * @param oldData\n * @returns {Promise<unknown[]>}\n */\nexport const getMetricDataInterval = async (metrics, oldData = null) => {\n  return await Promise.all(metrics.map(mtr => {\n    const oldMetricData = oldData.find(o => mtr.id === get(o, ['id'], ''));\n    const timestamp = get(oldMetricData, 'lastTimestamp', '');\n    if (timestamp) {\n      return GoBenchAPI.getMetricData(mtr.id, mtr.type, timestamp)\n        .then(mData => {\n          if (mData.length > 0) {\n            const dataByType = getDataByType(mData, mtr.type);\n            const oldMetricChartData = get(oldMetricData, ['chartData', 'data'], []);\n            const newData = [...oldMetricChartData, ...dataByType];\n            return {\n              ...oldMetricData,\n              lastTimestamp: get(orderBy(mData, ['time'], 'desc'), '[0].time'),\n              chartData: {\n                name: mtr.title,\n                data: newData\n              }\n            }\n          }\n          return oldMetricData;\n        });\n    }\n    return oldMetricData;\n  }))\n    .then(rs => rs)\n    .catch(err => err);\n};\n\n/**\n * make timestamp without to second\n * @param timestamp\n * @returns {number}\n */\nconst fixSecond = (timestamp) => Math.round(timestamp / 1000) * 1000;\n\n/***\n * Make chart data by time range\n * @param rawData\n * @param timeRange\n * @returns {*}\n */\nexport const makeChartDataByTimeRange = (rawData = [], timeRange = 3600) => {\n  const timeRangeMiliseconds = timeRange * 1000;\n  return rawData.map((seri) => {\n    const seriData = get(seri, 'data', []);\n    if (seriData.length === 0) {\n      return [];\n    }\n    const seriDataLength = seriData.length || 0;\n    const firstData = seriData[0];\n    const lastData = seriData[seriDataLength - 1];\n    const lastDataTime = get(lastData, 'x', 0);\n    const firstDataTime = get(firstData, 'x', 0);\n    const dataTime = fixSecond(lastDataTime - firstDataTime);\n\n    if (dataTime < timeRangeMiliseconds) {\n      const extraTime = timeRangeMiliseconds - dataTime;\n      return {\n        ...seri,\n        data: [...seriData.map(s => ({\n          x: Math.round(s.x / 1000) * 1000, y: s.y\n        })), { x: lastDataTime + extraTime, y: DEFAULT_VALUE }]\n      }\n    }\n    return {\n      ...seri,\n      data: seriData.filter(d => d.x >= (fixSecond(lastDataTime) - timeRangeMiliseconds))\n    }\n  });\n}; ","import { createContext } from 'react';\n\nexport const AppContext = createContext({});","import axios from 'axios';\nimport { get } from 'lodash';\n\nlet axiosInstance = {};\n\nconst API = {\n  init({\n         baseURL, on401, on404, onNoResponse\n       }) {\n    axiosInstance = axios.create({\n      baseURL,\n      timeout: 10000,\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      }\n    });\n\n    this.on401 = on401 || function noop() {\n    };\n    this.on404 = on404 || function noop() {\n    };\n    this.onNoResponse = onNoResponse || function noop() {\n    };\n    axiosInstance.interceptors.response.use(undefined, (error) => {\n      if (!error.response) {\n        return this.onNoResponse(error);\n      }\n      if (error.response.status === 401) {\n        this.on401(error.request, error.response);\n      }\n      if (error.response.status === 404) {\n        this.on404(error.request, error.response);\n      }\n      return Promise.reject(error);\n    });\n  },\n  axios() {\n    return axiosInstance;\n  }\n};\n\nexport const APIError = err => get(err, ['response', 'data', 'error'], {});\n\nexport default API;\n","import API from './api';\nimport { get } from 'lodash';\nimport { METRIC_TYPE } from '../realtimeHelpers';\n\nconst GoBenchAPI = {\n  getAppInfo() {\n    return new Promise((resolve, reject) => {\n      API.axios().get(`api/application`)\n        .then(res => resolve(get(res, 'data', null)))\n        .catch(reject);\n    });\n  },\n  getGroups() {\n    return new Promise((resolve, reject) => {\n      API.axios().get(`api/groups`)\n        .then(res => resolve(get(res, 'data', [])))\n        .catch(reject);\n    });\n  },\n  getGraphs(id) {\n    return new Promise((resolve, reject) => {\n      API.axios().get(`api/groups/${id}/graphs`)\n        .then(res => resolve(get(res, 'data', [])))\n        .catch(reject);\n    });\n  },\n  getMetrics(id) {\n    return new Promise((resolve, reject) => {\n      API.axios().get(`api/graphs/${id}/metrics`)\n        .then(res => resolve(get(res, 'data', [])))\n        .catch(reject);\n    });\n  },\n  getMetricData(id = 0, type = 'counter', fromTime = null, toTime = null) {\n    const from = fromTime ? `?from=${fromTime}` : '';\n    const end = toTime ? `&end=${toTime}` : '';\n    switch (type) {\n      case METRIC_TYPE.COUNTER:\n        return new Promise((resolve, reject) => {\n          API.axios().get(`api/metrics/${id}/counters${from}${end}`)\n            .then(res => resolve(get(res, 'data', [])))\n            .catch(reject);\n        });\n\n      case METRIC_TYPE.HISTOGRAM:\n        return new Promise((resolve, reject) => {\n          API.axios().get(`api/metrics/${id}/histograms${from}${end}`)\n            .then(res => resolve(get(res, 'data', [])))\n            .catch(reject);\n        });\n\n      case METRIC_TYPE.GAUGE:\n        return new Promise((resolve, reject) => {\n          API.axios().get(`api/metrics/${id}/gauges${from}${end}`)\n            .then(res => resolve(get(res, 'data', [])))\n            .catch(reject);\n        });\n      default:\n        return new Promise((resolve, reject) => {\n          API.axios().get(`api/metrics/${id}`)\n            .then(res => resolve(get(res, 'data', [])))\n            .catch(reject);\n        });\n    }\n  }\n};\n\nexport default GoBenchAPI;\n","import React, { useEffect, useState, lazy, Suspense } from 'react';\nimport { isArray, get } from 'lodash';\nimport './App.css';\nimport GoBenchAPI from '../../api/gobench';\nimport { AppContext } from '../../context';\n\nconst GroupComponent = lazy(() => import('./Group'));\n\nconst loading = () => <p>Loading group...</p>;\n\nconst statusColor = {\n  running: '#4dbd74',\n  init: '#ffcc00',\n  finished: '#0066ff',\n  cancel: '#ff0000'\n};\n\nconst App = () => {\n  const [groups, fetchGroups] = useState([]);\n  const [appData, fetchAppData] = useState(null);\n  const [fetching, setFetching] = useState(false);\n\n  useEffect(() => {\n    setFetching(true);\n    GoBenchAPI.getAppInfo().then(res => {\n      setFetching(false);\n      fetchAppData(res);\n    })\n  }, []);\n  useEffect(() => {\n    if (appData) {\n      GoBenchAPI.getGroups().then(res => {\n        fetchGroups(res);\n      })\n    }\n  }, [appData]);\n  const appStatus = get(appData, 'status', '');\n  if (!appData && !fetching) {\n    return <div className=\"app\">\n      <p>Cannot load the application. May be your benchmark has been stopped.</p>\n    </div>\n  }\n\n  return !fetching && (\n    <div className=\"app\">\n      <div className=\"app-header\">\n        <h2>{get(appData, 'name', '') || ''}</h2>\n        <span\n          style={{\n            color: '#FFFFFF',\n            background: statusColor[appStatus] || '#bfbfbf',\n          }}>{get(appData, 'status', '')}</span>\n      </div>\n      <div className=\"container\">\n        <AppContext.Provider value={appData}>\n          {\n            (isArray(groups) && groups.length > 0) &&\n            groups.map((group, index) => {\n              return <Suspense key={group.id || index} fallback={loading()}>\n                <GroupComponent group={group} appData={appData}/>\n              </Suspense>\n            })\n          }\n        </AppContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import * as configDefault from './config.default';\n\nconsole.log('process.env.NODE_ENV :', process.env.NODE_ENV);\nconst config = {\n  env: process.env.NODE_ENV,\n  apiEndpoint: process.env.NODE_ENV === \"production\" ? '/' : configDefault.apiEndpoint,\n};\nexport default config;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './views/App/App';\nimport API from './api/api';\nimport config from './config/config';\n// import * as serviceWorker from './serviceWorker';\n\nAPI.init({\n  baseURL: config.apiEndpoint,\n  on404: () => {\n    console.log('API not found');\n  }\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}